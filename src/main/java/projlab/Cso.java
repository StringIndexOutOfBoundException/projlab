package projlab;//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : projlab.Cso.java
//  @ Date : 2023. 03. 29.
//  @ Author : 
//
//

import java.nio.BufferOverflowException;
import java.nio.BufferUnderflowException;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutionException;

public class Cso extends Mezo {
	private int vizmennyiseg;

	/**
	 * A szerelő megjavít egy elemet, amin éppen áll
	 */
	@Override
	public void Megjavit() {
		System.out.println("Függvényhívás: " + this + ".Megjavit()");
		setMukodik(true);
	}

	public void PumpaEpit() {
	}

	/**
	 * A szabotőr kilyukaszt egy csövet
	 */
	@Override
	public void Kilyukaszt() {
		System.out.println("Függvényhívás: " + this + ".Kilyukaszt()");
		setMukodik(false);
	}

	public void VizetNovel(int meret) throws Exception {
		System.out.println("Függvényhívás:" + this +": VizetNovel( " + meret + ") ");
		if(meret + vizmennyiseg > 1){	//MAXVIZ
			int tulfolyas = meret+vizmennyiseg-1;
			vizmennyiseg += meret - tulfolyas;
			throw new Exception(String.valueOf(tulfolyas));
		}
		else {
			vizmennyiseg += meret;
		}
	}

	public void VizetCsokkent(int meret) throws Exception {
		System.out.println("Függvényhívás: " + this +": VizetCsokkent( " + meret + ") ");

		if(meret < vizmennyiseg) {
			vizmennyiseg -= meret;
		}
		else{
			int ki = vizmennyiseg;
			vizmennyiseg = 0;
			throw new Exception(String.valueOf(ki));
		}

	}

	public int getVizmennyiseg(){
		return vizmennyiseg;
	}
	
	/**
	 * Egy mező szomszédaihoz hozzáad egy új mezőt
	 * @param m a hozzáadandó mező
	 */
	@Override
	public void SzomszedHozzaad(Mezo m) {
		ArrayList<Mezo> szomszedok = GetSzomszedok();
		if(szomszedok.size() < 2)
			szomszedok.add(m);
		System.out.println("Függvényhívás: " + this + ".SzomszedHozzaad("+m+")");
	}

}
